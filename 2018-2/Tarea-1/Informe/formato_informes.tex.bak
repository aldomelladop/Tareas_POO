\documentclass[letterpaper,10pt]{article}
\usepackage{longtable}
\usepackage{enumerate}
\usepackage{ucs}
\usepackage{multirow}  %%INSTALAR ESTE PAQUETE!!!
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage[right=2.2cm,left=2.2cm,top=2.2cm,bottom=2.2cm,headsep=1.2cm,footskip=1.2cm]{geometry}
\usepackage{fancyhdr}
\usepackage{fancybox} 
\usepackage{graphicx,tabularx,latexsym}
\usepackage{amsthm,amsmath,amssymb,amsfonts}
\usepackage{booktabs}
\usepackage{tabulary}
\usepackage{subfigure}
\usepackage{booktabs}
\usepackage{float}
\usepackage{caption}
\usepackage{wrapfig}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[pdftex]{hyperref}
%\usepackage{ragged2e}
\hypersetup
	{
	bookmarks=true, 
	unicode=true,
	pdftitle= Tarea N°1 , 
	pdfauthor="{Aldo Mellado Opazo}", 
	pdfsubject= Programación Orientada al Objeto, 
	pdfnewwindow=true, 
	colorlinks=true, 
	linkcolor=black,
        linktocpage,
            linkcolor=blue,
            anchorcolor=red,
            citecolor=green,
            filecolor=blue,
            menucolor=blue,
            pagecolor=blue,
            urlcolor=blue,
	urlcolor=blue  
	}

\makeindex
\def\figcapskip{1pt}
\def\figtopskip{1pt}
\def\figbottomskip{1pt}
\def\figcapmargin{1pt}
\def\figfarskip{1pt}


\pagestyle{fancy}
 \lhead{Tarea N°1} 
 \rhead{{Programación Orientada al Objeto}} 
 \lfoot{}
 \cfoot{}
 \rfoot{\thepage} 

% ***********************************************************************************
\begin{document}



\renewcommand{\figurename}{\textbf{Fig.}}
\renewcommand{\tablename}{\textbf{Tabla}}
\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{0pt}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\fontsize{7}{9}\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

% *************************************************************************************

\begin{titlepage}
\hspace{-1cm} \includegraphics[width=1.5cm]{./imagenes/logo.png}
  \begin{tabular}{l}
  \begin{small} \sc Departamento de Ingeniería Eléctrica \end{small}\\
 \begin{small} \sc Facultad de Ingeniería \end{small}\\  
 \begin{small} \sc Universidad de Concepción \end{small}\\ 
 \begin{small} \sc Concepción, Chile. \end{small}\\                 

  \vspace*{1.5cm}\mbox{}
  \end{tabular}
  %\bigskip

  \vspace*{1.5 in}

\begin{center}
\Huge{{\Huge I}nforme {\Huge N°1}\\}
\vspace{0.3cm}
\large{\bf Calculando factoriales}\\
\vspace{1cm}
{\normalsize \textit{Profesor: Mario Medina}}\\[0.2cm]
{\normalsize \textit{Alumno: Aldo Mellado Opazo}}\\[0.5cm] 
{\normalsize \textit{24 de agosto de 2018}}
\end{center}

\vspace{9cm}
\begin{center}
\large{Programación Orientada al Objeto}\\
Ingeniería Civil en Telecomunicaciones
\end{center}
\end{titlepage}


%%-----------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%
%\newpage
%\setcounter{page}{0}
%\thispagestyle{empty}
%\tableofcontents
%
%
%%-----------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%\newpage
%\setcounter{page}{1}

\section{Calculando Factoriales}

Para este problema se debía "calcular" el factorial de 1000 y sumar sus dígitos. Para ello, se debía tener en consideración que las variables de tipo \texttt{int, long int, long long int}, no dan a basto para almacenar valores de factorial tan grandes -notar que 1000! es $\approx 4.0238726007\cdot{10^{2567}}$ - de modo que debía buscarse una solución alternativa.\\

Para estos efectos se consideró trozar cada número obtenido en el cálculo del factorial de la siguiente manera.\\

%%\framebox{aa}

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|c|c|c|c|c|}
\cline{2-8}
10! =& 3 & 6 & 2 & 8 & 8 & 0 & 0\\ \cline{2-8}
\end{tabular}\vspace{0.2cm}
\caption{Representación de vector resultante}
\label{tab:1}
\end{table}

sin embargo, el realizar la multiplicación término a término, de un vector por otro, aplicando a la suma un carry y al producto, la utilización de esta función suponía una operación demasiado engorrosa y que en la iteración anterior de esta tarea no dió resultado, razón por la cual se procedió de otra manera.\\

\subsection{Problemas}

Más que aparecer como problemas aparecen como alcances o salvedades que se hicieron, y es que dado que el factorial no está definido para los números negativos, se le dió la posibilidad de que el usuario si es que desease calcular un valor menor que cero, pudiera reingresar el valor, a posteriori, de hacerle notar que el valor ingresado no es válido.\\

\begin{figure}[h!]
\centering
\includegraphics[scale=0.5]{./imagenes/captura1}
\caption{Valor ingresado no válido}
\end{figure}

\subsubsection{Solución}

Tal como se menció anteriormente, para el cálculo de los factoriales, hacerlo por una lista resultó engorroso y complejo de manera que se hizo tal que para un vector, se fuera calculando el resultado de hasta el número elegido por el usuario, donde dicho número era descompuesto dígito a dígito.\\

Una vez descompuesto, este era multiplicado por el siguiente número dentro del factorial. Por ejemplo, para el caso de 11!;

\begin{table}[h!]
\centering
\begin{tabular}{ccccccccccccc}
\cline{1-1} \cline{3-9}
\multicolumn{1}{|c|}{10!} & \multicolumn{1}{c|}{=} & \multicolumn{1}{c|}{3} & \multicolumn{1}{c|}{6} & \multicolumn{1}{c|}{2} & \multicolumn{1}{c|}{8} & \multicolumn{1}{c|}{8} & \multicolumn{1}{c|}{0} & \multicolumn{1}{c|}{0} &  &  &  &  \\ \cline{1-1} \cline{3-9}
 &  &  &  &  &  &  &  &  &  &  &  &  \\ \cline{1-1} \cline{3-3} \cline{5-5}
\multicolumn{1}{|c|}{11!} & \multicolumn{1}{c|}{=} & \multicolumn{1}{c|}{10!} & \multicolumn{1}{c|}{*} & \multicolumn{1}{c|}{11} &  &  &  &  &  &  &  &  \\ \cline{1-1} \cline{3-3} \cline{5-5}
 &  &  &  &  &  &  &  &  &  &  &  &  \\ \cline{3-9} \cline{11-12}
 & \multicolumn{1}{c|}{=} & \multicolumn{1}{c|}{3} & \multicolumn{1}{c|}{6} & \multicolumn{1}{c|}{2} & \multicolumn{1}{c|}{8} & \multicolumn{1}{c|}{8} & \multicolumn{1}{c|}{0} & \multicolumn{1}{c|}{0} & \multicolumn{1}{c|}{*} & \multicolumn{1}{c|}{1} & \multicolumn{1}{c|}{1} &  \\ \cline{3-9} \cline{11-12}
 &  &  &  &  &  &  &  &  &  &  &  &  \\ \cline{3-10}
 & \multicolumn{1}{c|}{=} & \multicolumn{1}{c|}{3} & \multicolumn{1}{c|}{9} & \multicolumn{1}{c|}{9} & \multicolumn{1}{c|}{1} & \multicolumn{1}{c|}{6} & \multicolumn{1}{c|}{8} & \multicolumn{1}{c|}{0} & \multicolumn{1}{c|}{0} &  &  &  \\ \cline{3-10}
\end{tabular}
\end{table}

\newpage

Ello se hace a través de dos ciclos for, como se enuncia en el siguiente fragmento:

\framebox{
\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=21,lastline=34]{./codes/tarea1.cpp}
}
\vspace{0.5cm}

En adición a lo anterior, la tarea solicita que se cree una función que una vez calculado el factorial, realice la suma de los dígitos, sin embargo, para efectos de como opera el código, se tiene que el cálculo de los dígitos se va haciendo en reversa, es decir, la forma en que se almacena el factorial de 10! en \texttt{vecto<int> \ auxiliar} es la siguiente: \\

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|c|c|c|c|c|}
\cline{2-8}
&0&0&8&8&2&6&3\\ \cline{2-8}
\end{tabular}\vspace{0.2cm}
\caption{Representación de la forma en que se almacenan los dígitos}
\end{table}

Si bien la suma no se ve afectada por el orden, al desplegar los resultado hace falta aplicar las siguientes líneas de código:\\


\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=36,lastline=45]{./codes/tarea1.cpp}

Una vez hecho esto, se procede a hacer la suma, cuya función es la siguiente:\\

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=46,lastline=47]{./codes/tarea1.cpp}

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=10,lastline=14]{./codes/tarea1.cpp}

\subsection{Resultados}

\begin{figure}[h!]
\centering
\subfigure[]{\includegraphics[scale=0.5]{./imagenes/captura2}}
\subfigure[]{\includegraphics[scale=0.5]{./imagenes/captura3}}
\caption{Resultados obtenidos d
\end{figure}




\end{document}