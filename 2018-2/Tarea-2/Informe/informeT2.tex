\documentclass[letterpaper,10pt]{article}
\usepackage{longtable}
\usepackage{enumerate}
\usepackage{ucs}
\usepackage{multirow}  %%INSTALAR ESTE PAQUETE!!!
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage[right=2.2cm,left=2.2cm,top=2.2cm,bottom=2.2cm,headsep=1.2cm,footskip=1.2cm]{geometry}
\usepackage{fancyhdr}
\usepackage{fancybox} 
\usepackage{graphicx,tabularx,latexsym}
\usepackage{amsthm,amsmath,amssymb,amsfonts}
\usepackage{booktabs}
\usepackage{tabulary}
\usepackage{subfigure}
\usepackage{booktabs}
\usepackage{float}
\usepackage{caption}
\usepackage{wrapfig}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[pdftex]{hyperref}
%\usepackage{ragged2e}
\hypersetup
	{
	bookmarks=true, 
	unicode=true,
	pdftitle= Tarea N°1 , 
	pdfauthor="{Aldo Mellado Opazo}", 
	pdfsubject= Programación Orientada al Objeto, 
	pdfnewwindow=true, 
	colorlinks=true, 
	linkcolor=black,
        linktocpage,
            linkcolor=blue,
            anchorcolor=red,
            citecolor=green,
            filecolor=blue,
            menucolor=blue,
            pagecolor=blue,
            urlcolor=blue,
	urlcolor=blue  
	}

\makeindex
\def\figcapskip{1pt}
\def\figtopskip{1pt}
\def\figbottomskip{1pt}
\def\figcapmargin{1pt}
\def\figfarskip{1pt}


\pagestyle{fancy}
 \lhead{Tarea N°2} 
 \rhead{{Programación Orientada al Objeto}} 
 \lfoot{}
 \cfoot{}
 \rfoot{\thepage} 

% ***********************************************************************************
\begin{document}



\renewcommand{\figurename}{\textbf{Fig.}}
\renewcommand{\tablename}{\textbf{Tabla}}
\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{0pt}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\fontsize{7}{9}\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

% *************************************************************************************

\begin{titlepage}
\hspace{-1cm} \includegraphics[width=1.5cm]{./imagenes/logo.png}
  \begin{tabular}{l}
  \begin{small} \sc Departamento de Ingeniería Eléctrica \end{small}\\
 \begin{small} \sc Facultad de Ingeniería \end{small}\\  
 \begin{small} \sc Universidad de Concepción \end{small}\\ 
 \begin{small} \sc Concepción, Chile. \end{small}\\                 

  \vspace*{1.5cm}\mbox{}
  \end{tabular}
  %\bigskip

  \vspace*{1.5 in}

\begin{center}
\Huge{{\Huge I}nforme {\Huge N°2}\\}
\vspace{0.3cm}
\large{\bf Generando secuencias infinitas}\\
\vspace{1cm}
{\normalsize \textit{Profesor: Mario Medina}}\\[0.2cm]
{\normalsize \textit{Alumno: Aldo Mellado Opazo}}\\[0.5cm] 
{\normalsize \textit{31 de agosto de 2018}}
\end{center}

\vspace{9cm}
\begin{center}
\large{Programación Orientada al Objeto}\\
Ingeniería Civil en Telecomunicaciones
\end{center}
\end{titlepage}


%-----------------------------------------------------------------------------------------------
%----.------------------------------------------------------------------------------------------
%
%\newpage
%\setcounter{page}{0}
%\thispagestyle{empty}
%\tableofcontents
%
%
%%-----------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%\newpage
%\setcounter{page}{1}

\section{Generando secuencias infinitas}

La secuencia \textit{look and say}, se basa en la comparación, además del conteo, de un elemento previo y otro posterior. Mientras ambos sean iguales, el contador crece. En el caso de que sean diferentes, se anuncia la cantidad de ocurrencias y el número que se estaba contando, así, para la iteración: 

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|c|c|}
\cline{2-5}
$L_{4}$ =& 1&2&1&1\\ \cline{2-5}
\end{tabular}\vspace{0.2cm}
%\caption{\textit{Dos unos}}
\end{table}

se comienza contando el primer elemento, es decir el 1, donde al hacer la comparación entre este y el siguiente elemento, se  tiene que al ser distintos, el primer y segundo elemento de la línea resultante será la cantidad de ocurrencias y el número que se estaba contando:

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|}
\cline{2-3}
$L_{5}$ =& 1&1\\ \cline{2-3}
\end{tabular}\vspace{0.2cm}
%\caption{Representación de vector resultante}
\end{table}
 
Luego, se contarán la cantidad de 2 que existen, resultando:

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|c|c|c|}
\cline{2-5}
$L_{5}$ =& 1&1&1&2\\ \cline{2-5}
\end{tabular}\vspace{0.2cm}
%\caption{Representación de vector resultante}
\end{table}

Finalmente, dado que el tercer elemento de la iteración $L_{4}$ es igual al cuarto el contador crecerá.\\

Luego, como al llegar al cuarto elemento no existen más valores, se tiene entonces que el vector ha sido recorrido en su totalidad, resultando:

\begin{table}[h!]
\centering
\begin{tabular}{c|c|c|c|c|c|c|}
\cline{2-7}
$L_{5}$ =& 1&1&1&2&2&1\\ \cline{2-7}
\end{tabular}\vspace{0.2cm}
%\caption{Representación de vector resultante}
\end{table}

Dicho esto, se intentó emular la lógica de la resolución del problema, a través de las siguientes líneas de código.\\


\subsection{Solución}
\subsubsection*{Funcion \texttt{cuentandSay}}
\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=93,lastline=111]{./codes/tarea2.cpp}

Como se puede ver en la linea 4, se tiene en consideración la inicialización de la secuencia, haciéndola partir con un uno en el primer nivel de ésta.\\

Luego, se tiene que para el siguiente nivel, deben exisitr \textit{Dos \ unos}, y esto se logra inicializando otro valor 1 más.\\

Finalmente, para el resto de la secuencia se aplica lo que se llama en la línea 16, la función \texttt{countandSay(look,i)}, que como parámetros recibe el valor resultante \texttt{look}, que no es más que el vector resultante de la iteración anterior de la función.\\

En la tercera iteración, esta realiza lo siguiente:\\

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=10,lastline=38]{./codes/tarea2.cpp}

Esta función recibe un vector, y un entero; el primero corresponde al vector que contiene el resultado del nivel anterior de la secuencia, y el entero, el nivel de secuencia hasta el cual debe llegar.\\

Lo medular de estas líneas reside en las siguientes condiciones bajo las cuales se ejecuta el código:\\

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=20,lastline=33]{./codes/tarea2.cpp}

Como se puede ver en la 3a línea, se tiene que lo que hace es comparar el valor actual, con el siguiente; si se halla una coincidencia, se aumenta el contador, a la vez que se aumenta el iterador; en caso contrario, se copia el contador hasta el cual hubo coincidencia, y luego, el número que se estaba comparando.\\

\newpage

\subsubsection*{Función cuentaNumeros}

Esta función responde a lo que se requería en la tarea y que era el de contar la cantidad de números 1,2,3 y 4 que se presentan a lo largo de los niveles de la secuencia. Se implementa a través de las siguientes líneas:\\

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=48,lastline=69]{./codes/tarea2.cpp}\label{lst:sumofvec}

\subsection{Resultados}

\begin{figure}[h!]
\centering
\subfigure[Secuencia Look and Say hasta el nivel 15]{\includegraphics[scale=0.35]{./imagenes/captura2}\label{fig:3}}
\subfigure[Secuencia Look and Say hasta el nivel 20]{\includegraphics[scale=0.25]{./imagenes/captura1}\label{fig:4}}
\end{figure}

Como se puede apreciar en la figura \ref{fig:3}, se tiene que se hizo el alcance que para los valores de secuencia menores o iguales a cero, esta no se desplegara.\\

Por simplicidad se desplegó hasta la secuencia n°20, ya que para los valores de secuencia siguientes era difícil poder mostrarlos apropiadamente.\\

Notar que, tal y como se pidió, se desplegaron la cantidad de números 1,2,3 y 4 que se obtienen como resultado del conteo de estos a lo largo de la obtención de los niveles de secuencia. Como comentario, probé la secuencia hasta el n°74 que es donde no corrió el código y no apareció ningún número 4, lo que se condice con lo esperado ya que el primer número 4 aparece en el nivel 93.\\

\end{document}