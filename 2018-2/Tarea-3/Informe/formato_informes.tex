\documentclass[letterpaper,10pt]{article}
\usepackage{longtable}
\usepackage{enumerate}
\usepackage{ucs}
\usepackage{multirow}  %%INSTALAR ESTE PAQUETE!!!
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage[right=2.2cm,left=2.2cm,top=2.2cm,bottom=2.2cm,headsep=1.2cm,footskip=1.2cm]{geometry}
\usepackage{fancyhdr}
\usepackage{fancybox} 
\usepackage{graphicx,tabularx,latexsym}
\usepackage{amsthm,amsmath,amssymb,amsfonts}
\usepackage{booktabs}
\usepackage{tabulary}
\usepackage{subfigure}
\usepackage{booktabs}
\usepackage{float}
\usepackage{caption}
\usepackage{wrapfig}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[pdftex]{hyperref}
%\usepackage{ragged2e}
\hypersetup
	{
	bookmarks=true, 
	unicode=true,
	pdftitle= Tarea N°1 , 
	pdfauthor="{Aldo Mellado Opazo}", 
	pdfsubject= Programación Orientada al Objeto, 
	pdfnewwindow=true, 
	colorlinks=true, 
	linkcolor=black,
        linktocpage,
            linkcolor=blue,
            anchorcolor=red,
            citecolor=green,
            filecolor=blue,
            menucolor=blue,
            pagecolor=blue,
            urlcolor=blue,
	urlcolor=blue  
	}

\makeindex
\def\figcapskip{1pt}
\def\figtopskip{1pt}
\def\figbottomskip{1pt}
\def\figcapmargin{1pt}
\def\figfarskip{1pt}


\pagestyle{fancy}
 \lhead{Tarea N°3} 
 \rhead{{Programación Orientada al Objeto}} 
 \lfoot{}
 \cfoot{}
 \rfoot{\thepage} 

% ***********************************************************************************
\begin{document}



\renewcommand{\figurename}{\textbf{Fig.}}
\renewcommand{\tablename}{\textbf{Tabla}}
\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{0pt}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\fontsize{7}{9}\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

% *************************************************************************************

\begin{titlepage}
\hspace{-1cm} \includegraphics[width=1.5cm]{./imagenes/logo.png}
  \begin{tabular}{l}
  \begin{small} \sc Departamento de Ingeniería Eléctrica \end{small}\\
 \begin{small} \sc Facultad de Ingeniería \end{small}\\  
 \begin{small} \sc Universidad de Concepción \end{small}\\ 
 \begin{small} \sc Concepción, Chile. \end{small}\\                 

  \vspace*{1.5cm}\mbox{}
  \end{tabular}
  %\bigskip

  \vspace*{1.5 in}

\begin{center}
\Huge{{\Huge I}nforme {\Huge N°3}\\}
\vspace{0.3cm}
\large{\bf Los números pandigitales de 0-9}\\
\vspace{1cm}
{\normalsize \textit{Profesor: Mario Medina}}\\[0.2cm]
{\normalsize \textit{Alumno: Aldo Mellado Opazo}}\\[0.5cm] 
{\normalsize \textit{15 de septiembre de 2018}}
\end{center}

\vspace{9cm}
\begin{center}
\large{Programación Orientada al Objeto}\\
Ingeniería Civil en Telecomunicaciones
\end{center}
\end{titlepage}


%-----------------------------------------------------------------------------------------------
%----.------------------------------------------------------------------------------------------
%
%\newpage
%\setcounter{page}{0}
%\thispagestyle{empty}
%\tableofcontents
%
%
%%-----------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%%----.------------------------------------------------------------------------------------------
%\newpage
%\setcounter{page}{1}

\section{Los números pandigitales de 0-9}

Se nos introduce a los números pandigitales explicándonos que es el resultado de la combinatoria entre ciertos digitos cuya principal propiedad es que estos aparecen sólo una vez. Es por esta definición que en la implementación de la resolución de esta tarea se consideró la combinatoria, llevada a cabo en el código por la siguiente función:\\

\lstset{style=mystyle, language= C++}
\lstinputlisting[language=C++, firstline=18,lastline=26]{./codes/tarea3.cpp}\label{lst:sumofvec}

Esto, acorde a la combinatoria, es capaz de obtener el número de posibles combinaciones de dígitos entre 0-9, que de acuerdo a lo entregado por la función corresponde a 3628800.\\

Posteriormente se debían generar dichas permutaciones y para ello se hizo uso de la siguiente función.\\

%\framebox{
\lstset{style=mystyle, language = C++}
\lstinputlisting[language = C++,firstline = 28, lastline =40] {./codes/tarea3.cpp}
%}

Notar que además de valerse de la función \texttt{next\_ permutation(l2.begin(),l2.end())} para obtener las posibles permutaciones, se hace uso de un archivo de texto generado al cual se le escriben los valores resultantes. Esto será especialmente util para cuando deban hacerse ciertas consideraciones posteriores, pues permitirá que el procesamiento sea más rápido que si se mostrara por consola o se calculasen cada vez que se desee ejecutar una condición sobre los números de la permutación.\\

Luego se pide que para los números generados, se evalúe cuántos y cuáles de ellos satisfacen las condiciones dadas. Para dicho cometido se genera la siguiente función:\\

\lstset{style = mystyle,language = C++}
\lstinputlisting[language = C++, firstline = 42, lastline = 55]
{./codes/tarea3.cpp}

\newpage

Como se puede ver, se tiene que \texttt{propiedad}, recibe un string, que corresponde a una de las permutaciones que realiza la función permutar. Este string es descompuesto, tal y como se muestra en la línea 3 y 4, en distintos elementos que señalan el lugar que ocupan dentro del string. Esto fue hecho para facilitar la verificación del cumplimiento de las propiedades que se debían evaluar.\\

Se construyen los números tomando los índices que le corresponden según la condición que deban evaluar. Hecho esto, eran empujadas a un string llamado \texttt{n} que, para evaluar la condición era transformado en un entero (usando \texttt{stoi}) y si se cumplía se evaluaba el siguiente número.\\

Sin embargo, se definió una condición que, representada por \texttt{flag}, señala si se cumple o no la condición. Por ejemplo, para el caso de \texttt{dv2}, construido a partir de las posiciones \texttt{d2,d3,d4},se tiene que si este cumple la condición, entonces el valor de \texttt{flag} se modifica en favor de seguir evaluando las otras condiciones, tal y como se ve para :\\

\lstset{style = mystyle,language = C++}
\lstinputlisting[language = C++, firstline = 77, lastline = 84]
{./codes/tarea3.cpp}

Si se llegaba con flag=1 al término de la función, es decir, si el número, que entraba a la función en forma de string, y a partir del cual se construían los otros números con que se evaluaban las propiedades, cumplía las condiciones, este era convertido a una lista y sumado a \texttt{sumapandigitales} mediante el uso de las siguientes funciones:\\

\lstset{style = mystyle,language = C++}
\lstinputlisting[language = C++, firstline = 114, lastline = 130]
{./codes/tarea3.cpp}

\subsection{Resultados}

\begin{figure}[h!]
\centering
\includegraphics[scale=0.4]{./imagenes/captura1}
\caption{Resultados Números pandigitales}
\end{figure}

\end{document}